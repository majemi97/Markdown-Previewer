document.addEventListener("DOMContentLoaded", () => {
    const editor = document.getElementById("editor");
    const preview = document.getElementById("preview");

    function updatePreview() {
        const markdown = editor.value;
        const html = marked(markdown, { breaks: true });
        preview.innerHTML = html;
    }

    editor.addEventListener("input", updatePreview);

    // Initial load
    const defaultMarkdown = `
  # Heading 1
  ## Heading 2
  [Link](https://www.example.com)
  \`inline code\`
  \`\`\`
  // Code block
  const greeting = 'Hello';
  console.log(greeting);
  \`\`\`
  - List item 1
  - List item 2
  > Blockquote
  ![Image](data:image/jpeg;base64,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UqTa35GkZ9knxVjHkPPrFpQR16yt7hxtx1ElG3lWkBhsBICdE7eVIhxh/lle/UWP4GGKsPTyian8OttUOvSvrEo5JJUlSTyuNLGcLQruUM/+iCCRCycU9w0+5dW5uZpsymaZbl22FqSCOVxOQpJBAIIO0Nfw23DT6zpLQpaSmUzD0hLpYmUpB+rc3PKSRjOCDt4iLxkUH7OYBHaflWL8OFi44myLayFJXzCNCD4h89KxfDtw/I0OTcRcnG6k/PzKQzMJRyqEshPsBQ7lcyl5xtsn5QjjA0t9bk2b0p7OXmAlioJSN1N5whz5E8p8inuEM5GAvmzpa/Lbm6LNzU3Jy8ynlW5JO9msjwOxBB7wRgxE4i7OMu23kGADr6HetByfD9tc4deMZRAAJT5K1IMnz38pFKlwy63O2m41aM3LPT7NQnWW5HkUAGFuLCV82fs7823eD45Dlwrlr8K9ZsTVS36pLTrFWoctNB5bh+qeaABI5knY74GUn5CGjETHEbti/dJfsjIWJPrtt0On1movgpjKWliq1yaSC2eVIMfdidCNxrA16RXMEEEVOtCoggggooggggooggggooggggooggggopauIfhrmr2uin1y2m225meeSxUkHASnwf8AkBhQG52PXMXrYllU7T21pGh0xvklpZGCs+86s+8tXmTv+7uiQQQ8cu3XWksrPhT+vp0qBtMJZWV69fsohxzf/MdpOp7miCCCGdT1EEEEFFEEEEFFEEEEFFf/2Q==)
  **Bold text**
      `;
    editor.value = defaultMarkdown;
    updatePreview();
});
